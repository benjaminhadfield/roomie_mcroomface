<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Roomie McRoomFace API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all_nosearch.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;python&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>The base url is <code class="prettyprint">https://enghub.io/api/v1</code></p>

<h1 id="log-in-a-user">Log in a user</h1>

<h3 id="user-login-gettoken"><code class="prettyprint">/user.login.getToken/</code></h3>

<p>This will generate a Session ID (sid) which is used to process a login. It also gives the app the
information required to listen for a successful login taking place.</p>

<h2 id="query-parameters">Query Parameters</h2>

<p>None.</p>
<pre class="highlight shell"><code>curl http://127.0.0.1:8000/user.login.status/
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"http://127.0.0.1:8000/user.login.status/"</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s1">'http://127.0.0.1:8000/user.login.status/'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<p><strong>Restrictions:</strong> <code class="prettyprint">None.</code></p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">GET</code></p>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"loginUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://enghub.io/Shibboleth.sso/Login?target=https%3A%2F%2Fenghub.io%2Fapi%2Fv1%2Fuser.login.callback%3Fsid%3Dpescvktqatuvacymiwxhewsrrvsybexcijjpskcrcvngylmquwszbbtoujpd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://enghub.io/api/v1/user.login.callback?sid=pescvktqatuvacymiwxhewsrrvsybexcijjpskcrcvngylmquwszbbtoujpd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shibpescvktqatuvacymiwxhewsrrvsybexcijjpskcrcvngylmquwszbbtoujpd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stream_sub_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://enghub.io/api/v1/push.subscribe/shibpescvktqatuvacymiwxhewsrrvsybexcijjpskcrcvngylmquwszbbtoujpd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stream_sub_lp_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://enghub.io/api/v1/push.subscribe_longpoll/shibpescvktqatuvacymiwxhewsrrvsybexcijjpskcrcvngylmquwszbbtoujpd"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="user-login-status"><code class="prettyprint">/user.login.status/</code></h3>

<p>Shows whether or not a user is logged in. Therefore, if streaming or long polling is not supported by the client they can check this endpoint (every, say, 2 seconds) to ascertain whether the login was successful.</p>

<h2 id="query-parameters">Query Parameters</h2>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sid</td>
<td><code class="prettyprint">String</code></td>
<td>Session ID for which we want the user to be logged in.</td>
</tr>
</tbody></table>
<pre class="highlight shell"><code>curl --data <span class="s2">"sid=shibpescvktqatuvacymiwxhewsrrvsybexcijjpskcrcvngylmquwszbbtoujpd"</span> http://127.0.0.1:8000/user.login.status/
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s">"sid"</span><span class="p">:</span> <span class="s">"shibpescvktqatuvacymiwxhewsrrvsybexcijjpskcrcvngylmquwszbbtoujpd"</span><span class="p">}</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s">"http://127.0.0.1:8000/user.login.status/"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span> <span class="s1">'http://127.0.0.1:8000/user.login.status/'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-type'</span><span class="p">,</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s1">'sid=shibpescvktqatuvacymiwxhewsrrvsybexcijjpskcrcvngylmquwszbbtoujpd'</span><span class="p">);</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<p><strong>Restrictions:</strong> <code class="prettyprint">None.</code></p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">POST</code></p>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w"> </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NOT_LOGGED_IN"</span><span class="p">}</span><span class="w">
</span><span class="err">or</span><span class="w">
</span><span class="p">{</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w"> </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOGGED_IN"</span><span class="p">,</span><span class="w"> </span><span class="nt">"user_data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your_user_data"</span><span class="p">}</span><span class="w">
</span><span class="err">or</span><span class="w">
</span><span class="p">{</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="p">,</span><span class="w"> </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LOGIN_ERROR"</span><span class="p">}</span><span class="w">
</span></code></pre>

<h1 id="get-list-of-rooms">Get list of rooms</h1>

<h3 id="rooms-list"><code class="prettyprint">/rooms.list/</code></h3>

<p>This endpoint returns a list of all the rooms available in the Engineering hub.</p>

<h2 id="query-parameters">Query Parameters</h2>
<pre class="highlight shell"><code>curl http://127.0.0.1:8000/rooms.list/ -H <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"http://127.0.0.1:8000/rooms.list/"</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Token 57087bd9cc3cde97515a66bc0b58d29696063fd5"</span><span class="p">})</span>
</code></pre>
<pre class="highlight javascript"><code><span class="c1">// token</span>
<span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:8000/rooms.list/"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<p><strong>Restrictions:</strong> <code class="prettyprint">None</code>.</p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">GET</code></p>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"room_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RO-PIZZA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"printers"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"capacity"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nt">"room_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G01"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"individual_access"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"water_fountain"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"coffee"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>room_id</td>
<td><code class="prettyprint">String</code></td>
<td>The identifer for the room. This should be used when booking a room.</td>
</tr>
<tr>
<td>printers</td>
<td>Boolean</td>
<td>Does the room have a printer or not?</td>
</tr>
<tr>
<td>capacity</td>
<td>10</td>
<td>The number of people that can fit in the room.</td>
</tr>
<tr>
<td>room_name</td>
<td><code class="prettyprint">String</code></td>
<td>The actual name of the room.</td>
</tr>
<tr>
<td>individual_access</td>
<td>Boolean</td>
<td>If this is false, this room can only be booked by with society access (group3 / group4).</td>
</tr>
<tr>
<td>water_fountain</td>
<td>Boolean</td>
<td>If you this is true, congratulations, you&rsquo;ve found a very rare room in UCL that has a water fountain.</td>
</tr>
<tr>
<td>Coffee</td>
<td>Boolean</td>
<td>Whether or not this room has a coffee machine.</td>
</tr>
</tbody></table>

<h1 id="get-timetable-for-room">Get timetable for room</h1>

<h3 id="rooms-bookings"><code class="prettyprint">/rooms.bookings/</code></h3>

<p>This endpoint returns the timetable for the room on a given day.</p>

<h2 id="parameters">Parameters</h2>
<pre class="highlight shell"><code>curl <span class="s2">"http://127.0.0.1:8000/rooms.bookings/?room_id=RO-PIZZA&amp;date=20160808"</span> -H <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">"room_id"</span><span class="p">:</span> <span class="s">"RO-PIZZA"</span><span class="p">,</span> <span class="s">"date"</span><span class="p">:</span> <span class="s">"20160808"</span><span class="p">}</span>

<span class="c"># You can use both methods for authentication here</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">"http://127.0.0.1:8000/rooms.bookings/"</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

</code></pre>
<pre class="highlight javascript"><code>
<span class="c1">// headers</span>
<span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:8000/rooms.bookings/?room_id=RO-PIZZA&amp;date=20160808"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<p><strong>Restrictions:</strong> Only authenticated users can make a request  </p>

<p><strong>Allowed request types:</strong> <code class="prettyprint">GET</code></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">room_id</code></td>
<td><code class="prettyprint">String</code></td>
<td>The room id (not to be confused with the room name)</td>
</tr>
<tr>
<td><code class="prettyprint">date</code></td>
<td><code class="prettyprint">String</code></td>
<td>The date must be entered in <em>YYYYMMDD</em> format.</td>
</tr>
</tbody></table>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"emily emily emellee"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yoyoy -UCLU Technology Society"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11:00:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td><code class="prettyprint">String</code></td>
<td>The username of the person who booked this.</td>
</tr>
<tr>
<td>notes</td>
<td><code class="prettyprint">String</code></td>
<td>Any notes given regarding the booking.</td>
</tr>
<tr>
<td>start</td>
<td><code class="prettyprint">String</code></td>
<td>Start of booking in HH:MM:SS format</td>
</tr>
<tr>
<td>end</td>
<td><code class="prettyprint">String</code></td>
<td>End of booking in HH:MM:SS format</td>
</tr>
</tbody></table>

<h1 id="book-normal-rooms">Book normal rooms</h1>

<h3 id="rooms-book"><code class="prettyprint">/rooms.book/</code></h3>

<p>This end point allows the user to book rooms available to everybody.</p>

<h2 id="parameters">Parameters</h2>

<p><strong>Restrictions</strong> : Any authenticated user can make room bookings, except for token based authentications, see [REF]</p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">POST</code></p>
<pre class="highlight shell"><code>curl http://127.0.0.1:8000/rooms.book/
    --data <span class="s2">"room_id=RO-POO&amp;date=20160808&amp;start_time=15:00&amp;end_time=17:00&amp;notes=this is an event"</span>
    -H <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>   
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"room_id"</span> <span class="p">:</span> <span class="s">"RO-POO"</span><span class="p">,</span>
    <span class="s">"data"</span> <span class="p">:</span> <span class="s">"20160808"</span><span class="p">,</span>
    <span class="s">"start_time"</span> <span class="p">:</span> <span class="s">"15:00"</span><span class="p">,</span>
    <span class="s">"end_time"</span> <span class="p">:</span> <span class="s">"17:00"</span><span class="p">,</span>
    <span class="s">"notes"</span> <span class="p">:</span> <span class="s">"This is an event"</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Token &lt;auth_token_here&gt;"</span>
<span class="p">}</span>

<span class="c">#You can use both methods for authentication here</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span> <span class="s1">'http://127.0.0.1:8000/rooms.book/'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-type'</span><span class="p">,</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s2">"room_id=RO-POO&amp;date=20160808&amp;start_time=15:00&amp;end_time=17:00&amp;notes=this is an event"</span><span class="p">);</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">room_id</code></td>
<td><code class="prettyprint">String</code></td>
<td>The room id (not to be confused with the room name)</td>
</tr>
<tr>
<td><code class="prettyprint">date</code></td>
<td><code class="prettyprint">String</code></td>
<td>The date must be entered in <em>YYYYMMDD</em> format.</td>
</tr>
<tr>
<td><code class="prettyprint">start_time</code></td>
<td><code class="prettyprint">String</code></td>
<td>The time booking starts. The format must be HH:MM</td>
</tr>
<tr>
<td><code class="prettyprint">end_time</code></td>
<td><code class="prettyprint">String</code></td>
<td>The time booking ends. The format must be HH:MM</td>
</tr>
</tbody></table>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>or appropriate error message</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error message"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>There are two possible responses:</p>

<p><code class="prettyprint">success</code> -&gt; Booking has been made.</p>

<p>or</p>

<p><code class="prettyprint">error</code> -&gt; A message providing a reason will be given.</p>

<p>After the request is confirmed, mintues will be taken away from your quota and you will recieve a booking id in the response.</p>

<h1 id="book-a-society-room">Book a society room</h1>

<h3 id="rooms-book"><code class="prettyprint">/rooms.book/</code></h3>

<p>This endpoint allows society presidents or authorised members to book special society rooms.</p>

<h2 id="request-parameters">Request Parameters</h2>

<p><strong>Restrictions:</strong> Only users in group3 can use this endpoint and token authenticated requests</p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">POST</code>  </p>
<pre class="highlight shell"><code>curl http://127.0.0.1:8000/rooms.book/
    --data <span class="s2">"room_id=RO-POO&amp;date=20160808&amp;start_time=15:00&amp;end_time=17:00&amp;event_name=techandtell&amp;society=SOTECHSOC"</span>
    -H <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"room_id"</span> <span class="p">:</span> <span class="s">"RO-POO"</span><span class="p">,</span>
    <span class="s">"data"</span> <span class="p">:</span> <span class="s">"20160808"</span><span class="p">,</span>
    <span class="s">"start_time"</span> <span class="p">:</span> <span class="s">"15:00"</span><span class="p">,</span>
    <span class="s">"end_time"</span> <span class="p">:</span> <span class="s">"17:00"</span><span class="p">,</span>
    <span class="s">"event_name"</span> <span class="p">:</span> <span class="s">"Weekly meeting"</span><span class="p">,</span>
    <span class="s">"society"</span> <span class="p">:</span> <span class="s">"SOTECHSOC"</span>
<span class="p">}</span>

<span class="c">#You can use both methods for authentication here</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span> <span class="s1">'http://127.0.0.1:8000/rooms.book/'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-type'</span><span class="p">,</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s2">"room_id=RO-POO&amp;date=20160808&amp;start_time=15:00&amp;end_time=17:00&amp;event_name=techandtell&amp;society=SOTECHSOC"</span><span class="p">);</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">room_id</code></td>
<td><code class="prettyprint">String</code></td>
<td>The room id (not to be confused with the room name)</td>
</tr>
<tr>
<td><code class="prettyprint">date</code></td>
<td><code class="prettyprint">String</code></td>
<td>The date must be entered in <em>YYYYMMDD</em> format.</td>
</tr>
<tr>
<td><code class="prettyprint">start_time</code></td>
<td><code class="prettyprint">String</code></td>
<td>The time booking starts. The format must be HH:MM</td>
</tr>
<tr>
<td><code class="prettyprint">end_time</code></td>
<td><code class="prettyprint">String</code></td>
<td>The time booking ends. The format must be HH:MM</td>
</tr>
</tbody></table>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>or appropriate error message</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error message"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>There are two possible responses:</p>

<p><code class="prettyprint">success</code> -&gt; Booking has been made.</p>

<p>or</p>

<p><code class="prettyprint">error</code> -&gt; A message providing a reason will be given.</p>

<h1 id="get-all-bookings-from-a-user">Get all bookings from a user</h1>

<h3 id="user-bookings"><code class="prettyprint">/user.bookings/</code></h3>

<p>This endpoint shows all the rooms the logged-in user has booked.</p>

<h2 id="request-parameters">Request Parameters:</h2>

<p><strong>Restrictions:</strong> Only authenticated users are allowed<br>
<strong>Allowed request type:</strong> <code class="prettyprint">GET</code></p>
<pre class="highlight shell"><code>curl http://127.0.0.1:8000/user.bookings/?date<span class="o">=</span>20160808 -H <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>

</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">"date"</span> <span class="p">:</span> <span class="s">"20160808"</span><span class="p">}</span>

<span class="c">#You can use both methods for authentication here</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>

</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:8000/user.bookings/?date=20160808"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>date</td>
<td><code class="prettyprint">String</code></td>
<td>The date in <em>YYYYMMDD</em> format</td>
</tr>
</tbody></table>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rema boo"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"book"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"booking_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21cf0a17-4b64-4a5f-9a0e-9381d4195af1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15:00:00"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>or appropriate error message</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"error message"</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td><code class="prettyprint">String</code></td>
<td>The username of the person who booked this.</td>
</tr>
<tr>
<td>notes</td>
<td><code class="prettyprint">String</code></td>
<td>Any notes given regarding the booking.</td>
</tr>
<tr>
<td>start</td>
<td><code class="prettyprint">String</code></td>
<td>Start of booking in HH:MM:SS format</td>
</tr>
<tr>
<td>end</td>
<td><code class="prettyprint">String</code></td>
<td>End of booking in HH:MM:SS format</td>
</tr>
<tr>
<td>booking_id</td>
<td><code class="prettyprint">String</code></td>
<td>The id associated with the booking</td>
</tr>
</tbody></table>

<p>All bookings on that date by user which is logged in. You cannot see other users data.</p>

<h1 id="get-token">Get token</h1>

<h3 id="society-token"><code class="prettyprint">/society.token/</code></h3>

<p>This endpoint allows a society president to access a token which can be then used to allow other members of his/her society to book as part of a society.</p>

<h2 id="request-parameters">Request Parameters</h2>
<pre class="highlight shell"><code>curl http://127.0.0.1:8000/society.token/?society_id<span class="o">=</span>SOTECHSOC -H <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Authorization"</span><span class="p">:</span> <span class="s">"Token &lt;auth_token_here&gt;"</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s">"society_id"</span><span class="p">:</span><span class="s">"SOTECHSOC"</span><span class="p">},</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:8000/society.token?society_id=SOTECHSOC"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>society_id</td>
<td><code class="prettyprint">String</code></td>
<td>Society-ID eg.<code class="prettyprint">SO-XXXXXX</code></td>
</tr>
</tbody></table>

<p><strong>Allowed request type:</strong> GET  </p>

<p><strong>Restrictions:</strong> Only Group4 Users can access this (Society Presidents)</p>

<h2 id="response-parameters"> Response Parameters</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td><code class="prettyprint">String</code></td>
<td>Token to authorise others to book rooms as a society.</td>
</tr>
</tbody></table>

<p>This endpoint creates a token on behalf of the society, valid for 100 days. The society leader can regenerates this token at any point causing the previous token to expire. Only 1 token is valid at any time.</p>

<p>This code can be given to anybody and can be used to book society rooms.</p>

<h1 id="delete-a-booking">Delete a booking</h1>

<h3 id="rooms-deletebooking"><code class="prettyprint">/rooms.deleteBooking/</code></h3>

<p>This allows users to delete a booking they have already booked.</p>

<h2 id="request-parameters">Request Parameters</h2>

<p><strong>Restrictions:</strong> Only object owner can delete the booking and user has to be authenticated  </p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">GET</code>  </p>
<pre class="highlight shell"><code>curl http:127.0.0.1:8000/rooms.deleteBooking/?booking_id<span class="o">=</span>21cf0a17-4b64-4a5f-9a0e-9381d4195af1
-H <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>     
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">"booking_id"</span> <span class="p">:</span> <span class="s">"XXXX-XXXX-XXXXX"</span><span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:8000/rooms.deleteBooking/?booking_id=21cf0a17-4b64-4a5f-9a0e-9381d4195af1"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>booking_id</td>
<td><code class="prettyprint">String</code></td>
<td>The booking id associated with the room booking.</td>
</tr>
</tbody></table>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"token"</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>or error message</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"error"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"blah blah"</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Once the booking is deleted, the length of the booking will be added back to the users quota.</p>

<h1 id="give-normal-users-society-access">Give normal users society access</h1>

<h3 id="society-adduser"><code class="prettyprint">/society.addUser/</code></h3>

<p>This endpoint allows society presidents to give access to other students and allow them to be included in group 3.</p>

<h2 id="request-parameters">Request Parameters</h2>

<p><strong>Restriction:</strong> Only Group4 users have access to this.</p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">POST</code>  </p>
<pre class="highlight shell"><code>curl --data <span class="s2">"username=rema&amp;society_id=SOTECHSOC"</span> http://127.0.0.1:8000/society.addUser/ -H <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"society_id"</span> <span class="p">:</span> <span class="s">"SOTECHSOC"</span><span class="p">,</span>
    <span class="s">"username"</span> <span class="p">:</span> <span class="s">"rema"</span>
<span class="p">}</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"Authorization: Token &lt;abcd&gt;"</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:8000/society.addUser/"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-type'</span><span class="p">,</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s2">"username=rema&amp;society_id=SOTECHSOC"</span><span class="p">);</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td><code class="prettyprint">string</code></td>
<td>This will be the user&rsquo;s email address.</td>
</tr>
</tbody></table>

<h2 id="response">Response</h2>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Successfully added rema boo to society access groups!"</span><span class="p">}</span><span class="w">
</span></code></pre>

<h1 id="remove-normal-user-39-s-society-access">Remove normal user&rsquo;s society access</h1>

<h3 id="society-deleteuser"><code class="prettyprint">/society.deleteUser/</code></h3>

<p>This endpoint removes user from group3, denying them society room booking powers.</p>

<h2 id="request-parameters">Request Parameters</h2>

<p><strong>Restriction:</strong> Only Group4 users can access this.</p>

<p><strong>Allowed request type:</strong> <code class="prettyprint">POST</code>  </p>
<pre class="highlight shell"><code>curl --data <span class="s2">"username=rema&amp;society_id=SOTECHSOC"</span> http://127.0.0.1:8000/society.deleteUser/ <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">"society_id"</span> <span class="p">:</span> <span class="s">"SOTECHSOC"</span><span class="p">,</span>
    <span class="s">"username"</span> <span class="p">:</span> <span class="s">"rema"</span>
<span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'POST'</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:8000/society.deleteUser/"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Content-type'</span><span class="p">,</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s2">"username=rema&amp;society_id=SOTECHSOC"</span><span class="p">);</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td><code class="prettyprint">string</code></td>
<td>This will be the user&rsquo;s email address.</td>
</tr>
</tbody></table>

<h1 id="response">Response</h1>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>

<h1 id="logout-a-user">Logout a user</h1>

<h3 id="user-logout"><code class="prettyprint">/user.logout/</code></h3>

<p>This end point logs a user out of the API so they can no longer make requests. They must log back in.</p>

<h2 id="request-parameters">Request Parameters</h2>

<p><strong>Restrictions: <code class="prettyprint">None.</code></strong></p>

<p><strong>Allowed request types:</strong> <code class="prettyprint">GET</code>  </p>
<pre class="highlight shell"><code>curl http://127.0.0.1:8000/user.logout/ <span class="s1">'Authorization: Token &lt;auth_token_here&gt;'</span>
</code></pre>
<pre class="highlight python"><code><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
</code></pre>
<pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">xhr</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">();</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s1">'GET'</span><span class="p">,</span> <span class="s2">"http://127.0.0.1:8000/user.logout/"</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s1">'Authorization'</span><span class="p">,</span> <span class="s1">'Token &lt;auth_token_here&gt;'</span><span class="p">);</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">send</span><span class="p">();</span>

<span class="c1">// response from the server</span>
<span class="nx">xhr</span><span class="p">.</span><span class="nx">responseText</span><span class="p">;</span>
</code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td><code class="prettyprint">String</code></td>
<td>This will be the user&rsquo;s email address.</td>
</tr>
<tr>
<td>password</td>
<td><code class="prettyprint">String</code></td>
<td>The user&rsquo;s password.</td>
</tr>
</tbody></table>

<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>

<h1 id="streaming-api">Streaming API</h1>

<h3 id="stream-sub-xxx"><code class="prettyprint">/stream.sub/XXX</code></h3>

<p>A socket endpoint to listen on channel XXX (e.g. the sid)</p>

<h3 id="stream-sub_lp-xxx"><code class="prettyprint">/stream.sub_lp/XXX</code></h3>

<p>A long polling endpoint for channel XXX (e.g. the sid)</p>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&rsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

          
      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
